# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„ Ù¾Ø±ÙˆÚ˜Ù‡ Ù…ÙˆØ¬ Ù¾ÛŒØ§Ù… (MoojPayam)

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

1. [Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#Ù…Ø¹Ø±ÙÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
2. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
3. [Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ](#Ù†ØµØ¨-Ùˆ-Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ)
4. [Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡](#Ø³Ø§Ø®ØªØ§Ø±-Ù¾Ø±ÙˆÚ˜Ù‡)
5. [ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡](#ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ-Ø§Ø³ØªÙØ§Ø¯Ù‡-Ø´Ø¯Ù‡)
6. [ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
7. [API Documentation](#api-documentation)
8. [ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø­ÛŒØ·ÛŒ](#ØªÙ†Ø¸ÛŒÙ…Ø§Øª-Ù…Ø­ÛŒØ·ÛŒ)
9. [Ø§Ø³ØªÙ‚Ø±Ø§Ø± (Deployment)](#Ø§Ø³ØªÙ‚Ø±Ø§Ø±-deployment)
10. [Ø§Ù…Ù†ÛŒØª](#Ø§Ù…Ù†ÛŒØª)
11. [Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯](#Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ-Ùˆ-Ø¹Ù…Ù„Ú©Ø±Ø¯)
12. [Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡](#Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ-Ùˆ-ØªÙˆØ³Ø¹Ù‡)

---

## Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

**Ù…ÙˆØ¬ Ù¾ÛŒØ§Ù…** ÛŒÚ© Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© ØªØ¨Ù„ÛŒØºØ§ØªÛŒ Ùˆ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø´Ø§Ù…Ù„ ÛŒÚ© ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ù„Ù†Ø¯ÛŒÙ†Ú¯ Ù¾ÛŒØ¬ Ø¨Ø§ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ú©Ø§Ù…Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.

### ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…

- **ğŸŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø²Ù†Ø¯Ù‡**: [moojpayam.ir](https://moojpayam.ir)
- **ğŸ“¦ Ù…Ø®Ø²Ù† Ú©Ø¯**: [GitHub Repository](https://github.com/mahdilow/moojpayam)

### Ø§Ù‡Ø¯Ø§Ù Ù¾Ø±ÙˆÚ˜Ù‡

- Ø§Ø±Ø§Ø¦Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø§Ù…Ø¹ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³Ø±ÙˆÛŒØ³ Ù¾ÛŒØ§Ù…Ú©ÛŒ Ù…ÙˆØ¬ Ù¾ÛŒØ§Ù…
- Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
- Ø³ÛŒØ³ØªÙ… Ø¨Ù„Ø§Ú¯ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ´Ø§Ø± Ù…Ù‚Ø§Ù„Ø§Øª
- ÙØ±Ù… ØªÙ…Ø§Ø³ Ø¨Ø§ ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
- Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØªÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ (SEO)
- Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…Ø¯Ø±Ù† Ùˆ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² Ù…Ø¹Ù…Ø§Ø±ÛŒ **Full-Stack** Ø¨Ø§ Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Frontend Ùˆ Backend Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚  React + TypeScript + Vite
â”‚   (Client)      â”‚  Tailwind CSS + Framer Motion
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP/HTTPS
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend       â”‚  Express.js + Node.js
â”‚   (Server)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”
â”‚Supabaseâ”‚ â”‚Email â”‚
â”‚Databaseâ”‚ â”‚Serviceâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend Architecture

- **Framework**: React 18 Ø¨Ø§ TypeScript
- **Build Tool**: Vite 6
- **Routing**: React Router DOM v6
- **State Management**: React Hooks (useState, useEffect)
- **Styling**: Tailwind CSS
- **Animations**: Framer Motion
- **SEO**: React Helmet Async

### Backend Architecture

- **Runtime**: Node.js
- **Framework**: Express.js
- **Database**: Supabase (PostgreSQL)
- **Storage**: Supabase Storage
- **Email**: Nodemailer (Gmail)
- **SMS**: SOAP API (Payamak Panel)

---

## Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

### Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

- **Node.js**: Ù†Ø³Ø®Ù‡ 18 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- **npm** ÛŒØ§ **yarn**: Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
- **Supabase Account**: Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ Ø§Ø³ØªÙˆØ±ÛŒØ¬
- **Gmail Account**: Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ (Ø¨Ø§ App Password)

### Ù…Ø±Ø§Ø­Ù„ Ù†ØµØ¨

#### 1. Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡

```bash
git clone https://github.com/mahdilow/moojpayam.git
cd moojpayam
```

#### 2. Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§

```bash
npm install
```

#### 3. ØªÙ†Ø¸ÛŒÙ… ÙØ§ÛŒÙ„ Ù…Ø­ÛŒØ·ÛŒ

ÛŒÚ© ÙØ§ÛŒÙ„ `.env` Ø¯Ø± Ø±ÛŒØ´Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯:

```env
# Supabase Configuration
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_key

# Admin Credentials
ADMIN_USER=your_admin_username
ADMIN_PASSWORD=your_admin_password

# Email Configuration (Gmail)
EMAIL_USER=your_gmail@gmail.com
EMAIL_APP_PASSWORD=your_gmail_app_password
EMAIL_RECIPIENT=recipient@example.com

# SMS Configuration (Payamak Panel)
SMS_USERNAME=your_sms_username
SMS_PASSWORD=your_sms_password
SMS_BODY_ID=your_sms_body_id

# Server Configuration
PORT=80
NODE_ENV=development
FRONTEND_URL=http://localhost:5173
```

#### 4. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Supabase

1. ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± [Supabase](https://supabase.com) Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯
2. Ø¬Ø¯Ø§ÙˆÙ„ Ø²ÛŒØ± Ø±Ø§ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯:

**Ø¬Ø¯ÙˆÙ„ blogs:**

```sql
CREATE TABLE blogs (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  excerpt TEXT,
  content TEXT NOT NULL,
  image TEXT,
  author TEXT,
  date TEXT,
  read_time INTEGER,
  views INTEGER DEFAULT 0,
  category TEXT,
  tags TEXT[],
  featured BOOLEAN DEFAULT false,
  published BOOLEAN DEFAULT false,
  slug TEXT UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  related_posts TEXT[],
  meta_description TEXT,
  last_viewed TIMESTAMP
);
```

**Ø¬Ø¯ÙˆÙ„ blog_views:**

```sql
CREATE TABLE blog_views (
  id SERIAL PRIMARY KEY,
  blog_id TEXT REFERENCES blogs(id) ON DELETE CASCADE,
  viewer_ip TEXT,
  viewed_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(blog_id, viewer_ip)
);
```

**Ø¬Ø¯ÙˆÙ„ pricing:**

```sql
CREATE TABLE pricing (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  price TEXT,
  features TEXT[],
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);
```

**Ø¬Ø¯ÙˆÙ„ announcements:**

```sql
CREATE TABLE announcements (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  message TEXT NOT NULL,
  type TEXT DEFAULT 'info',
  isActive BOOLEAN DEFAULT false,
  createdAt TIMESTAMP DEFAULT NOW(),
  expiresAt TIMESTAMP
);
```

**Ø¬Ø¯ÙˆÙ„ admin_logs:**

```sql
CREATE TABLE admin_logs (
  id TEXT PRIMARY KEY,
  admin_user TEXT NOT NULL,
  session_id TEXT,
  action TEXT NOT NULL,
  category TEXT,
  details JSONB,
  severity TEXT DEFAULT 'low',
  timestamp TIMESTAMP DEFAULT NOW()
);
```

**Ø¬Ø¯ÙˆÙ„ shortlinks:**

```sql
CREATE TABLE shortlinks (
  id SERIAL PRIMARY KEY,
  long_url TEXT NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  category TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

3. ÛŒÚ© Storage Bucket Ø¨Ø§ Ù†Ø§Ù… `blog-images` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯

#### 5. Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

**Development Mode:**

```bash
# Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù† Frontend Ùˆ Backend
npm run dev:all

# ÛŒØ§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡:
npm run dev          # Frontend (Vite)
npm run dev:server   # Backend (Express)
```

**Production Mode:**

```bash
npm run build        # Build Frontend
npm start            # Start Production Server
```

Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯:

- Frontend: `http://localhost:5173`
- Backend API: `http://localhost:80/api`

---

## Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
moojpayam/
â”œâ”€â”€ public/                 # ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§ØªÛŒÚ©
â”‚   â”œâ”€â”€ assets/           # ØªØµØ§ÙˆÛŒØ± Ùˆ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§
â”‚   â”œâ”€â”€ robots.txt        # ÙØ§ÛŒÙ„ robots.txt
â”‚   â”œâ”€â”€ sitemap.xml       # Ù†Ù‚Ø´Ù‡ Ø³Ø§ÛŒØª
â”‚   â””â”€â”€ site.webmanifest  # Web App Manifest
â”‚
â”œâ”€â”€ src/                   # Ú©Ø¯Ù‡Ø§ÛŒ Frontend
â”‚   â”œâ”€â”€ api/              # Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ API
â”‚   â”‚   â”œâ”€â”€ emailService.ts
â”‚   â”‚   â””â”€â”€ supabaseClient.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ components/       # Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ React
â”‚   â”‚   â”œâ”€â”€ admin/        # Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
â”‚   â”‚   â”œâ”€â”€ sections/    # Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
â”‚   â”‚   â”œâ”€â”€ AnalyticsTracker.tsx
â”‚   â”‚   â”œâ”€â”€ AnnouncementBanner.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx
â”‚   â”‚   â”œâ”€â”€ LoadingScreen.tsx
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â””â”€â”€ SEOHead.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/            # Custom Hooks
â”‚   â”‚   â””â”€â”€ useContentData.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/          # Layout Components
â”‚   â”‚   â””â”€â”€ MainLayout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/            # ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ
â”‚   â”‚   â”œâ”€â”€ AboutUsPage.tsx
â”‚   â”‚   â”œâ”€â”€ AdminDashboard.tsx
â”‚   â”‚   â”œâ”€â”€ AdminLogin.tsx
â”‚   â”‚   â”œâ”€â”€ BlogPage.tsx
â”‚   â”‚   â”œâ”€â”€ BlogPostPage.tsx
â”‚   â”‚   â”œâ”€â”€ ContactUsPage.tsx
â”‚   â”‚   â”œâ”€â”€ FaqPage.tsx
â”‚   â”‚   â”œâ”€â”€ FeaturesPage.tsx
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx
â”‚   â”‚   â”œâ”€â”€ NotFoundPage.tsx
â”‚   â”‚   â””â”€â”€ WebServicesPage.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ theme/           # ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÙ…
â”‚   â”‚   â””â”€â”€ brandTheme.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/           # ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
â”‚   â”‚   â””â”€â”€ adminLogger.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx          # Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø§ØµÙ„ÛŒ
â”‚   â”œâ”€â”€ main.tsx         # Entry Point
â”‚   â””â”€â”€ index.css        # Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒå…¨å±€
â”‚
â”œâ”€â”€ scripts/             # Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ
â”‚   â””â”€â”€ generate-sitemap.js
â”‚
â”œâ”€â”€ server.js           # Ø³Ø±ÙˆØ± Express.js
â”œâ”€â”€ vite.config.ts      # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Vite
â”œâ”€â”€ tailwind.config.js  # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Tailwind CSS
â”œâ”€â”€ tsconfig.json       # ØªÙ†Ø¸ÛŒÙ…Ø§Øª TypeScript
â”œâ”€â”€ package.json        # ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§
â””â”€â”€ Dockerfile          # ÙØ§ÛŒÙ„ Docker Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø±
```

---

## ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡

### Frontend Stack

| ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ           | Ù†Ø³Ø®Ù‡    | Ú©Ø§Ø±Ø¨Ø±Ø¯                  |
| ------------------ | ------- | ----------------------- |
| React              | 18.2.0  | Framework Ø§ØµÙ„ÛŒ          |
| TypeScript         | 5.2.2   | Type Safety             |
| Vite               | 6.3.5   | Build Tool & Dev Server |
| React Router DOM   | 6.22.1  | Routing                 |
| Tailwind CSS       | 3.4.1   | Styling                 |
| Framer Motion      | 11.0.3  | Animations              |
| React Helmet Async | 2.0.4   | SEO Meta Tags           |
| React Hot Toast    | 2.5.2   | Notifications           |
| Lucide React       | 0.344.0 | Icons                   |
| React Leaflet      | 4.2.1   | Maps                    |

### Backend Stack

| ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ           | Ù†Ø³Ø®Ù‡   | Ú©Ø§Ø±Ø¨Ø±Ø¯                    |
| ------------------ | ------ | ------------------------- |
| Express.js         | 4.21.2 | Web Framework             |
| Node.js            | 18+    | Runtime                   |
| Supabase JS        | 2.75.0 | Database & Storage Client |
| Nodemailer         | 7.0.3  | Email Service             |
| Multer             | 2.0.1  | File Upload               |
| Sharp              | 0.34.4 | Image Processing          |
| Express Rate Limit | 7.5.0  | Rate Limiting             |
| Cookie Parser      | 1.4.6  | Cookie Handling           |
| SOAP               | -      | SMS API Integration       |

### Database & Storage

- **Supabase PostgreSQL**: Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§ØµÙ„ÛŒ
- **Supabase Storage**: Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ±

---

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

### 1. Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ (CMS)

#### Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù„Ø§Ú¯

- Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø­Ø°Ù Ù…Ù‚Ø§Ù„Ø§Øª
- Ø³ÛŒØ³ØªÙ… Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ ØªÚ¯
- ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Slug Ø§Ø² Ø¹Ù†ÙˆØ§Ù†
- ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Meta Description
- Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø±ØªØ¨Ø·
- Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ± (WebP)
- Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ù…Ù‚Ø§Ù„Ø§Øª

#### Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¹Ø±ÙÙ‡â€ŒÙ‡Ø§

- Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ
- ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù¾Ù„Ù†â€ŒÙ‡Ø§
- Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ

#### Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§

- Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØª
- ØªÙ†Ø¸ÛŒÙ… ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§
- ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§

### 2. Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†

- **Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª**: Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯ÛŒÙ† Ø¨Ø§ Session Management
- **Dashboard**: Ù†Ù…Ø§ÛŒØ´ Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ
  - ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡
  - ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§
  - Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯
  - Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§ÛŒ Ø§Ø®ÛŒØ±
- **Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§**: CRUD Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ ØªØ¹Ø±ÙÙ‡â€ŒÙ‡Ø§
- **Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯**: Ø«Ø¨Øª ØªÙ…Ø§Ù…ÛŒ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
- **Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±**: Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ±

### 3. Ø³ÛŒØ³ØªÙ… ØªÙ…Ø§Ø³

- **ÙØ±Ù… ØªÙ…Ø§Ø³**: Ø¨Ø§ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ú©Ø§Ù…Ù„
- **ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„**: Ø§Ø±Ø³Ø§Ù„ OTP Ø§Ø² Ø·Ø±ÛŒÙ‚ SMS
- **Rate Limiting**: Ù…Ø­Ø¯ÙˆØ¯ÛŒØª ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- **Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„**: Ø§Ø±Ø³Ø§Ù„ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†

### 4. Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ SEO

- **Meta Tags**: Ú©Ø§Ù…Ù„ Ùˆ Ù¾ÙˆÛŒØ§ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØµÙØ­Ù‡
- **Open Graph**: Ø¨Ø±Ø§ÛŒ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ
- **Twitter Cards**: Ø¨Ø±Ø§ÛŒ ØªÙˆÛŒØªØ±
- **Canonical URLs**: Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø­ØªÙˆØ§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ
- **Sitemap**: ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ù†Ù‚Ø´Ù‡ Ø³Ø§ÛŒØª
- **Structured Data**: Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Schema.org

### 5. Ø¹Ù…Ù„Ú©Ø±Ø¯ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ

- **Code Splitting**: ØªÙ‚Ø³ÛŒÙ… Ú©Ø¯ Ø¨Ù‡ Chunkâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©
- **Lazy Loading**: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¨Ù„ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§
- **Image Optimization**: ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ WebP Ùˆ Resize
- **Minification**: ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø¯ Ø¯Ø± Production
- **Tree Shaking**: Ø­Ø°Ù Ú©Ø¯Ù‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡

### 6. Ø§Ù…Ù†ÛŒØª

- **Rate Limiting**: Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- **Session Management**: Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù…Ù† Session
- **Input Validation**: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
- **Security Headers**: Ù‡Ø¯Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ
- **CORS**: ØªÙ†Ø¸ÛŒÙ…Ø§Øª Cross-Origin
- **SQL Injection Protection**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Parameterized Queries

### 7. URL Shortener

- Ø³ÛŒØ³ØªÙ… Ú©ÙˆØªØ§Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù„ÛŒÙ†Ú©
- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§
- Ø±ÛŒØ¯Ø§ÛŒØ±Ú©Øª 301 Ø¨Ø±Ø§ÛŒ SEO

---

## API Documentation

### Public APIs

#### Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø§Ù„Ø§Øª

```http
GET /api/content/blogs
```

**Response:**

```json
[
  {
    "id": "string",
    "title": "string",
    "excerpt": "string",
    "content": "string",
    "image": "string",
    "author": "string",
    "date": "string",
    "readTime": "number",
    "views": "number",
    "category": "string",
    "tags": ["string"],
    "featured": "boolean",
    "published": "boolean",
    "slug": "string"
  }
]
```

#### Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø§Ù„Ù‡ Ø¨Ø§ Slug

```http
GET /api/content/blogs/slug/:slug
```

**Response:**

```json
{
  "id": "string",
  "title": "string",
  "content": "string",
  "relatedPosts": [...]
}
```

#### Ø«Ø¨Øª Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ù…Ù‚Ø§Ù„Ù‡

```http
POST /api/blogs/:id/view
```

**Response:**

```json
{
  "message": "string",
  "views": "number"
}
```

#### Ø¯Ø±ÛŒØ§ÙØª ØªØ¹Ø±ÙÙ‡â€ŒÙ‡Ø§

```http
GET /api/content/pricing
```

#### Ø¯Ø±ÛŒØ§ÙØª Ø§Ø¹Ù„Ø§Ù† ÙØ¹Ø§Ù„

```http
GET /api/content/announcement
```

#### Ø§Ø±Ø³Ø§Ù„ OTP

```http
POST /api/send-otp
Content-Type: application/json

{
  "phone": "09121234567"
}
```

**Response:**

```json
{
  "success": true,
  "message": "string",
  "expiresIn": 120
}
```

#### ØªØ§ÛŒÛŒØ¯ OTP

```http
POST /api/verify-otp
Content-Type: application/json

{
  "phone": "09121234567",
  "otp": "1234"
}
```

#### Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ ØªÙ…Ø§Ø³

```http
POST /api/send-email
Content-Type: application/json

{
  "name": "string",
  "phone": "09121234567",
  "email": "string (optional)",
  "subject": "string",
  "message": "string",
  "otpVerified": true
}
```

### Admin APIs

**Ù†Ú©ØªÙ‡**: ØªÙ…Ø§Ù…ÛŒ APIÙ‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¯Ø§Ø±Ù†Ø¯.

#### Ù„Ø§Ú¯ÛŒÙ† Ø§Ø¯Ù…ÛŒÙ†

```http
POST /api/mooj-admin
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}
```

#### ØªØ§ÛŒÛŒØ¯ Session

```http
GET /api/admin/verify
```

#### Ø®Ø±ÙˆØ¬ Ø§Ø² Ø³ÛŒØ³ØªÙ…

```http
POST /api/admin/logout
```

#### Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø± Dashboard

```http
GET /api/admin/stats
```

#### Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù‚Ø§Ù„Ø§Øª

```http
GET    /api/admin/blogs          # Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª
POST   /api/admin/blogs          # Ø§ÛŒØ¬Ø§Ø¯ Ù…Ù‚Ø§Ù„Ù‡
PUT    /api/admin/blogs/:id      # ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ù‚Ø§Ù„Ù‡
DELETE /api/admin/blogs/:id      # Ø­Ø°Ù Ù…Ù‚Ø§Ù„Ù‡
```

#### Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¹Ø±ÙÙ‡â€ŒÙ‡Ø§

```http
GET    /api/admin/pricing         # Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª
POST   /api/admin/pricing        # Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù„Ù†
PUT    /api/admin/pricing/:id    # ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ù„Ù†
DELETE /api/admin/pricing/:id   # Ø­Ø°Ù Ù¾Ù„Ù†
```

#### Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§

```http
GET    /api/admin/announcements                    # Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª
POST   /api/admin/announcements                   # Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¹Ù„Ø§Ù†
PUT    /api/admin/announcements/:id               # ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø¹Ù„Ø§Ù†
DELETE /api/admin/announcements/:id              # Ø­Ø°Ù Ø§Ø¹Ù„Ø§Ù†
PATCH  /api/admin/announcements/:id/toggle       # ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª
```

#### Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±

```http
POST /api/admin/upload
Content-Type: multipart/form-data

file: [image file]
```

**Response:**

```json
{
  "message": "string",
  "imageUrl": "string"
}
```

#### Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª ØªØµØ§ÙˆÛŒØ±

```http
GET /api/admin/images
```

#### Ø­Ø°Ù ØªØµÙˆÛŒØ±

```http
DELETE /api/admin/upload/:filename
```

#### Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§Ú¯â€ŒÙ‡Ø§

```http
GET  /api/admin/logs                    # Ø¯Ø±ÛŒØ§ÙØª Ù„Ø§Ú¯â€ŒÙ‡Ø§
GET  /api/admin/logs/export            # Ø®Ø±ÙˆØ¬ÛŒ JSON
POST /api/admin/logs                   # Ø«Ø¨Øª Ù„Ø§Ú¯ Ø¬Ø¯ÛŒØ¯
```

**Query Parameters Ø¨Ø±Ø§ÛŒ GET /api/admin/logs:**

- `category`: ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡
- `severity`: ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø·Ø­ (low, medium, high, critical)
- `dateRange`: ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ§Ø±ÛŒØ® (7d, 30d, all)
- `search`: Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù„Ø§Ú¯â€ŒÙ‡Ø§
- `limit`: ØªØ¹Ø¯Ø§Ø¯ Ù†ØªØ§ÛŒØ¬ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: 100)
- `offset`: Ø¢ÙØ³Øª Ø¨Ø±Ø§ÛŒ Pagination

---

## ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø­ÛŒØ·ÛŒ

### Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ

#### Supabase

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_KEY=your_service_key
```

**Ù†Ø­ÙˆÙ‡ Ø¯Ø±ÛŒØ§ÙØª:**

1. ÙˆØ§Ø±Ø¯ Ù¾Ù†Ù„ Supabase Ø´ÙˆÛŒØ¯
2. Ø¨Ù‡ Settings > API Ø¨Ø±ÙˆÛŒØ¯
3. URL Ùˆ Keys Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯

#### Ø§Ø¯Ù…ÛŒÙ†

```env
ADMIN_USER=admin
ADMIN_PASSWORD=your_secure_password
```

**Ù†Ú©ØªÙ‡ Ø§Ù…Ù†ÛŒØªÛŒ**: Ø§Ø² Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù‚ÙˆÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

#### Ø§ÛŒÙ…ÛŒÙ„ (Gmail)

```env
EMAIL_USER=your_email@gmail.com
EMAIL_APP_PASSWORD=your_app_password
EMAIL_RECIPIENT=recipient@example.com
```

**Ù†Ø­ÙˆÙ‡ Ø§ÛŒØ¬Ø§Ø¯ App Password:**

1. Ø¨Ù‡ Google Account Settings Ø¨Ø±ÙˆÛŒØ¯
2. Security > 2-Step Verification Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
3. App Passwords > Generate Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
4. App Password Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯

#### SMS (Payamak Panel)

```env
SMS_USERNAME=your_sms_username
SMS_PASSWORD=your_sms_password
SMS_BODY_ID=your_template_id
```

#### Ø³Ø±ÙˆØ±

```env
PORT=80
NODE_ENV=production
FRONTEND_URL=https://moojpayam.ir
```

---

## Ø§Ø³ØªÙ‚Ø±Ø§Ø± (Deployment)

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¨Ø§ Docker

#### 1. Ø³Ø§Ø®Øª Image

```bash
docker build -t moojpayam:latest .
```

#### 2. Ø§Ø¬Ø±Ø§ÛŒ Container

```bash
docker run -d \
  -p 80:80 \
  --env-file .env \
  --name moojpayam \
  moojpayam:latest
```

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Manual

#### 1. Build Frontend

```bash
npm run build
```

#### 2. ØªÙ†Ø¸ÛŒÙ… Environment Variables

ÙØ§ÛŒÙ„ `.env` Ø±Ø§ Ø¯Ø± Ø³Ø±ÙˆØ± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.

#### 3. Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ±

```bash
npm start
```

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¨Ø§ PM2 (ØªÙˆØµÛŒÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯)

```bash
# Ù†ØµØ¨ PM2
npm install -g pm2

# Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
pm2 start server.js --name moojpayam

# Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
pm2 save

# ØªÙ†Ø¸ÛŒÙ… Startup
pm2 startup
```

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Frontend Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡

Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Frontend Ùˆ Backend Ø±Ø§ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯:

1. **Frontend**: Build Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± CDN ÛŒØ§ Static Host Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯
2. **Backend**: Ø¯Ø± Ø³Ø±ÙˆØ± Node.js Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯
3. **CORS**: ØªÙ†Ø¸ÛŒÙ…Ø§Øª CORS Ø±Ø§ Ø¯Ø± `server.js` Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†ÛŒØ¯

---

## Ø§Ù…Ù†ÛŒØª

### Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡

1. **Rate Limiting**

   - ÙØ±Ù… ØªÙ…Ø§Ø³: 2 Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± 24 Ø³Ø§Ø¹Øª
   - OTP: 5 Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± 5 Ø¯Ù‚ÛŒÙ‚Ù‡
   - Ù„Ø§Ú¯ÛŒÙ† Ø§Ø¯Ù…ÛŒÙ†: 5 ØªÙ„Ø§Ø´ Ø¯Ø± 15 Ø¯Ù‚ÛŒÙ‚Ù‡
   - Ø¢Ù¾Ù„ÙˆØ¯: 20 ÙØ§ÛŒÙ„ Ø¯Ø± 15 Ø¯Ù‚ÛŒÙ‚Ù‡

2. **Session Management**

   - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² HttpOnly Cookies
   - SameSite Protection
   - Secure Flag Ø¯Ø± Production
   - Timeout Ø®ÙˆØ¯Ú©Ø§Ø± (2 Ø³Ø§Ø¹Øª)

3. **Input Validation**

   - Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
   - Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§ÛŒÙ…ÛŒÙ„
   - Sanitization ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
   - Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø­Ø¬Ù… ÙØ§ÛŒÙ„ (5MB)

4. **Security Headers**

   - X-Content-Type-Options: nosniff
   - X-Frame-Options: DENY
   - X-XSS-Protection: 1; mode=block

5. **Database Security**
   - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Parameterized Queries
   - Row Level Security Ø¯Ø± Supabase
   - Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø§ Service Key

### ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ

1. **HTTPS**: Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² HTTPS Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
2. **Environment Variables**: Ù‡Ø±Ú¯Ø² Keys Ø±Ø§ Ø¯Ø± Ú©Ø¯ Commit Ù†Ú©Ù†ÛŒØ¯
3. **Password Policy**: Ø§Ø² Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ù‚ÙˆÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
4. **Regular Updates**: Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ² Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯
5. **Backup**: Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¨Ù‡â€ŒØ·ÙˆØ± Ù…Ù†Ø¸Ù… Backup Ø¨Ú¯ÛŒØ±ÛŒØ¯

---

## Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯

### Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Frontend

1. **Code Splitting**

   - Lazy Loading ØµÙØ­Ø§Øª
   - Manual Chunks Ø¨Ø±Ø§ÛŒ Vendor Libraries

2. **Image Optimization**

   - ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ WebP
   - Resize Ø®ÙˆØ¯Ú©Ø§Ø±
   - Lazy Loading ØªØµØ§ÙˆÛŒØ±

3. **Bundle Size**

   - Tree Shaking
   - Minification
   - Compression

4. **Caching**
   - Static Assets Caching
   - Browser Caching

### Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Backend

1. **Database**

   - Indexing Ù…Ù†Ø§Ø³Ø¨
   - Query Optimization
   - Connection Pooling

2. **Caching**

   - Cache Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª
   - Redis (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

3. **Compression**
   - Gzip Compression
   - Response Compression

### Performance Metrics

- **First Contentful Paint (FCP)**: < 1.8s
- **Largest Contentful Paint (LCP)**: < 2.5s
- **Time to Interactive (TTI)**: < 3.8s
- **Cumulative Layout Shift (CLS)**: < 0.1

---

## Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡

### Ø³Ø§Ø®ØªØ§Ø± Ú©Ø¯

- **Components**: Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…Ø¬Ø¯Ø¯
- **Pages**: ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡
- **Hooks**: Custom Hooks Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ Ù…Ø´ØªØ±Ú©
- **Utils**: ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
- **API**: Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Backend

### Best Practices

1. **TypeScript**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Type Safety
2. **ESLint**: Ø±Ø¹Ø§ÛŒØª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ
3. **Component Structure**: Ø³Ø§Ø®ØªØ§Ø± Ù…Ù†Ø·Ù‚ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§
4. **Error Handling**: Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§
5. **Logging**: Ø«Ø¨Øª Ù„Ø§Ú¯ Ù…Ù†Ø§Ø³Ø¨

### Testing

```bash
# Ø§Ø¬Ø±Ø§ÛŒ Linter
npm run lint

# Ø¨Ø±Ø±Ø³ÛŒ Type Errors
npx tsc --noEmit
```

### Backup

#### Backup Ø¯ÛŒØªØ§Ø¨ÛŒØ³

```bash
# Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Supabase CLI
supabase db dump -f backup.sql
```

#### Backup ØªØµØ§ÙˆÛŒØ±

ØªØµØ§ÙˆÛŒØ± Ø¯Ø± Supabase Storage Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ùˆ Ø¨Ù‡â€ŒØ·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± Backup Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

### Monitoring

- **Error Tracking**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Sentry (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
- **Analytics**: Google Analytics (Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡)
- **Uptime Monitoring**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² UptimeRobot ÛŒØ§ Ù…Ø´Ø§Ø¨Ù‡

### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ

```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§
npm outdated

# Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
npm update

# Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Major Versions
npm install package@latest
```

---

## Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ (Troubleshooting)

### Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

#### 1. Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Supabase

**Ù…Ø´Ú©Ù„**: `Supabase URL or Key missing`

**Ø±Ø§Ù‡â€ŒØ­Ù„**:

- Ø¨Ø±Ø±Ø³ÛŒ ÙØ§ÛŒÙ„ `.env`
- Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ØµØ­Øª URL Ùˆ Keys
- Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª

#### 2. Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„

**Ù…Ø´Ú©Ù„**: `Email sending error`

**Ø±Ø§Ù‡â€ŒØ­Ù„**:

- Ø¨Ø±Ø±Ø³ÛŒ App Password Ø¯Ø± Gmail
- ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† 2-Step Verification
- Ø¨Ø±Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª SMTP

#### 3. Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ SMS

**Ù…Ø´Ú©Ù„**: `Failed to send OTP`

**Ø±Ø§Ù‡â€ŒØ­Ù„**:

- Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¹ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ Payamak Panel
- Ø¨Ø±Ø±Ø³ÛŒ ØµØ­Øª Body ID
- Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨

#### 4. Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±

**Ù…Ø´Ú©Ù„**: `Upload error`

**Ø±Ø§Ù‡â€ŒØ­Ù„**:

- Ø¨Ø±Ø±Ø³ÛŒ Ø­Ø¬Ù… ÙØ§ÛŒÙ„ (Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)
- Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª ÙØ§ÛŒÙ„ (ÙÙ‚Ø· ØªØµÙˆÛŒØ±)
- Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Supabase Storage

#### 5. Ø®Ø·Ø§ Ø¯Ø± Build

**Ù…Ø´Ú©Ù„**: `Build failed`

**Ø±Ø§Ù‡â€ŒØ­Ù„**:

- Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† `node_modules` Ùˆ `dist`
- Ù†ØµØ¨ Ù…Ø¬Ø¯Ø¯ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
- Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø·Ø§Ù‡Ø§ÛŒ TypeScript

---

## Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ ØªÙ…Ø§Ø³

### ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

- **ğŸŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØª**: [moojpayam.ir](https://moojpayam.ir)
- **ğŸ“¦ GitHub**: [github.com/mahdilow/moojpayam](https://github.com/mahdilow/moojpayam)

### Ù…Ù†Ø§Ø¨Ø¹

- **Ù…Ø³ØªÙ†Ø¯Ø§Øª React**: https://react.dev
- **Ù…Ø³ØªÙ†Ø¯Ø§Øª Vite**: https://vitejs.dev
- **Ù…Ø³ØªÙ†Ø¯Ø§Øª Supabase**: https://supabase.com/docs
- **Ù…Ø³ØªÙ†Ø¯Ø§Øª Tailwind CSS**: https://tailwindcss.com/docs

### Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ú¯

Ø¯Ø± ØµÙˆØ±Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø§Ú¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø¯Ø± [Repository](https://github.com/mahdilow/moojpayam/issues) ÛŒÚ© Issue Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.

---

## Ù…Ø¬ÙˆØ² (License)

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª Ù…Ø¬ÙˆØ² [MIT License] Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª.

---

## ØªØºÛŒÛŒØ±Ø§Øª (Changelog)

### Version 0.1.0

- Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡
- Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ… Ø¨Ù„Ø§Ú¯
- Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
- Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙØ±Ù… ØªÙ…Ø§Ø³ Ø¨Ø§ OTP
- Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ SEO
- Ø³ÛŒØ³ØªÙ… Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±

---

## ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯

- **ğŸŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØª**: [moojpayam.ir](https://moojpayam.ir)
- **ğŸ“¦ Ú©Ø¯ Ù…Ù†Ø¨Ø¹**: [GitHub](https://github.com/mahdilow/moojpayam)
- **ğŸ› Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ú¯**: [Issues](https://github.com/mahdilow/moojpayam/issues)

---

**Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ**: 2024

**Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡**: ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡ Ù…ÙˆØ¬ Ù¾ÛŒØ§Ù…
